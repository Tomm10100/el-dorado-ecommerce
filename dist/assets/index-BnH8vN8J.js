function p(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(r){return typeof r}:p=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},p(o)}var m="clover",h=function(r){return r===3?"v3":r},S="https://js.stripe.com",w="".concat(S,"/").concat(m,"/stripe.js"),b=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,g=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var L=function(r){return b.test(r)||g.test(r)},j=function(){for(var r=document.querySelectorAll('script[src^="'.concat(S,'"]')),e=0;e<r.length;e++){var n=r[e];if(L(n.src))return n}return null},v=function(r){var e="",n=document.createElement("script");n.src="".concat(w).concat(e);var t=document.head||document.body;if(!t)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return t.appendChild(n),n},R=function(r,e){!r||!r._registerWrapper||r._registerWrapper({name:"stripe-js",version:"8.7.0",startTime:e})},a=null,c=null,l=null,P=function(r){return function(e){r(new Error("Failed to load Stripe.js",{cause:e}))}},T=function(r,e){return function(){window.Stripe?r(window.Stripe):e(new Error("Stripe.js not available"))}},x=function(r){return a!==null?a:(a=new Promise(function(e,n){if(typeof window>"u"||typeof document>"u"){e(null);return}if(window.Stripe){e(window.Stripe);return}try{var t=j();if(!(t&&r)){if(!t)t=v(r);else if(t&&l!==null&&c!==null){var i;t.removeEventListener("load",l),t.removeEventListener("error",c),(i=t.parentNode)===null||i===void 0||i.removeChild(t),t=v(r)}}l=T(e,n),c=P(n),t.addEventListener("load",l),t.addEventListener("error",c)}catch(u){n(u);return}}),a.catch(function(e){return a=null,Promise.reject(e)}))},I=function(r,e,n){if(r===null)return null;var t=e[0];if(typeof t!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(p(t)," instead."));var i=t.match(/^pk_test/),u=h(r.version),d=m;i&&u!==d&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("8.7.0"," expected Stripe.js@").concat(d,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var f=r.apply(void 0,e);return R(f,n),f},s,y=!1,E=function(){return s||(s=x(null).catch(function(r){return s=null,Promise.reject(r)}),s)};Promise.resolve().then(function(){return E()}).catch(function(o){y||console.warn(o)});var _=function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];y=!0;var t=Date.now();return E().then(function(i){return I(i,e,t)})};export{_ as loadStripe};
